<!DOCTYPE html>
<html>

    <head>
        <script src="http://code.jquery.com/jquery-latest.js"></script>
     <script type="text/javascript">
         
         
         
         $(document).ready(function()
{
   //Beim "Senden" soll folgendes passieren ...
    $("#ph").submit(function() {
 
        
	         event.preventDefault();
       var data = 
			{ 	
				name: $('#name').val() ,
			 	abstand: $('#abstand').val() ,
			 	durchmesser: $('#durchmesser').val() 
			 };
			 //AJAX - Methode für das POST
	        $.ajax({
	          	type: 'POST',
	          	url: '/planeten',
	          	data: JSON.stringify(data),	//Datentyp
	          	contentType: 'application/json'
	          }).done(function(){	//wenn hinzugefuegt wurde
	          	alert(data.name+' wurde hinzugefügt!');	
	          	 $('#ph')[0].reset();	//Formular zurücksetzen
	          }).fail(function(event){	//Fehlermeldung
	          	alert(data.name+' konnte nicht hinzugefuegt werden!('+JSON.stringify(event)+')');
	          });
 
    });
});
         
</script>
        
    </head>
    <body>

        <form id='ph' action='/planeten' method='POST'>
                 <label>Planet</label><input type='text' id = 'name' name='name' value=''/></br>
                 <label>Abstand zur Sonne</label><input type='text' id = 'abstand' name='abstand' value=''/></br>
                 <label>Durchmesser</label><input type='text' id='durchmesser' name='durchmesser' value=''/></br>
                 <input type='submit' value='Senden' />
                 </form>
        

    </body>
</html>
